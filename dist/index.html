<html>
  <head>
    <title>AR Dit4ll</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="main.css">

    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/dev/aframe/build/aframe-ar.js"></script>
    <script src="play-all-model-animations.js"></script>
    <script src="gesture-detector.js"></script>
    <script src="gesture-handler.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>

    <script>
      AFRAME.registerComponent('clicker', {
          init: function() {
              this.el.addEventListener('click', e => {
                  alert('Teraz ste prepli do modu AR-WORLD');
              });
          }
      });
    </script>

  </head>

  <body style='margin : 0px; overflow: hidden;'>
    <a-scene
    cursor="rayOrigin: mouse"
    raycaster="objects: [data-clickable]"
    embedded 
    arjs 
    gesture-detector
    vr-mode-ui="enabled: false"
    >
      
    <a-entity light="type:directional; castShadow:true;" position="1 0 5"></a-entity>      
    <a-entity shadow="cast:true; receive:true">
    <a-plane position="0 0 -5" rotation="0 0 0" width="200" height="200" color = "#FFFFFF" opacity = 0.1 ></a-plane>
    </a-entity>
    
    <a-marker preset="custom" type="pattern" url="https://raw.githubusercontent.com/Tiky121/AR-Dit4ll/main/pattern-windturbine.patt" position ="0 0 0" rotation = "0 0 -180">
        <a-entity id="turbine" gltf-model="./wind_turbine.glb" scale= "0.8 0.8 0.8" position="0 1 0" play-all-model-animations class="clickable" gesture-handler shadow="cast:true; receive:false">
        </a-entity>
        <!--<a-image id="turbinear"  src="world.png" scale= "0.5 0.25 0.5" position="0 1 1" rotation = "-90 0 0" onclick="setturbineworld()" data-clickable clicker></a-image>-->
        </a-marker>
        <a-entity camera></a-entity>
        <!--<a-entity id="turbineworld" visible="false" >
          <a-box data-clickable color="white" position="0 0 -10" onclick="setScene1()"></a-box>
        </a-entity>-->
        
        <a-marker preset='hiro'>
          <a-entity gltf-model="./Photovoltaikanlage.glb" scale= "0.16 0.16 0.16"  position="0 0 0" shadow="cast:true; receive:false" class="clickable" gesture-handler></a-entity>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>
    <script type="text/javascript"> 
      function setScene1() {
        document.getElementById('turbine').setAttribute('visible', 'true')
        document.getElementById('turbinear').setAttribute('visible', 'true')
        document.getElementById('turbineworld').setAttribute('visible', 'false')
      }
       function setturbineworld() {
        document.getElementById('turbine').setAttribute('visible', 'false')
        document.getElementById('turbinear').setAttribute('visible', 'false')
        document.getElementById('turbineworld').setAttribute('visible', 'true')
      }
    </script>
  </body>
</html>